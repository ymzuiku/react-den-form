module.exports=function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/",r(r.s=10)}([function(t,e,r){"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}r.d(e,"a",function(){return n})},function(t,e,r){"use strict";r.r(e),r.d(e,"immitProps",function(){return n}),r.d(e,"getValuePaths",function(){return o});var n={value:"value",change:"onChange",click:"onClick",touch:"onTouchEnd"},o={input:["target","value"],textarea:["target","value"],select:["target","value"]}},function(t,e){t.exports=require("react")},function(t,e,r){"use strict";r.d(e,"a",function(){return o});var n=r(0);function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},o=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),o.forEach(function(e){Object(n.a)(t,e,r[e])})}return t}},function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}r.d(e,"a",function(){return n})},function(t,e,r){"use strict";function n(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function o(t,e,r){return e&&n(t.prototype,e),r&&n(t,r),t}r.d(e,"a",function(){return o})},function(t,e,r){"use strict";function n(t){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}r.d(e,"a",function(){return n})},function(t,e,r){"use strict";function n(t){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){return(o="function"===typeof Symbol&&"symbol"===n(Symbol.iterator)?function(t){return n(t)}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":n(t)})(t)}function i(t,e){return!e||"object"!==o(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}r.d(e,"a",function(){return i})},function(t,e,r){"use strict";function n(t,e){return(n=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&n(t,e)}r.d(e,"a",function(){return o})},function(t,e,r){"use strict";r.r(e);var n=r(3);function o(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}var i=r(4),a=r(5),u=r(7),c=r(6),p=r(8),s=r(2),f=r.n(s);r.d(e,"default",function(){return l});var l=function(t){function e(){var t,r;Object(i.a)(this,e);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return(r=Object(u.a)(this,(t=Object(c.a)(e)).call.apply(t,[this].concat(o)))).tempProps=void 0,r.updateFromProps=function(t){r.tempProps=t,r.forceUpdate()},r}return Object(p.a)(e,t),Object(a.a)(e,[{key:"render",value:function(){var t=this.props,e=t.children,r=t.fixUpdateProps,i=o(t,["children","fixUpdateProps"]),a=r(e,this.tempProps);void 0===a.value&&(a.value="");var u=f.a.cloneElement(e,Object(n.a)({},i,a));return this.tempProps=void 0,u}}]),e}(f.a.PureComponent)},function(t,e,r){"use strict";r.r(e);var n=r(3),o=r(0),i=r(4),a=r(5),u=r(7),c=r(6),p=r(8),s=r(2),f=r.n(s),l=r(9),d=r(1),y=function(t){function e(t){var r;return Object(i.a)(this,e),(r=Object(u.a)(this,Object(c.a)(e).call(this,t))).errorChecker=function(t){var e=!1;return"object"===typeof t.props.errorcheck&&(e=!t.props.errorcheck.test(r.data[t.props.field])),"function"===typeof t.props.errorcheck&&(e=!t.props.errorCheck({data:r.data,field:t.props.field,value:r.data[t.props.field]})),e},r.updateByData=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(o.a)({},r.editChild.props.field,Object(o.a)({},d.immitProps.value,r.data[r.editChild.props.field])),e=function(e){r.refList[e]&&r.refList[e].length>0&&r.refList[e].forEach(function(n){var i=t[e];("string"===typeof i&&(i=Object(o.a)({},d.immitProps.value,i)),void 0!==i[d.immitProps.value]&&(r.data[e]=i[d.immitProps.value]),n.current)&&(n.current._default?n.current._default:n.current).updateFromProps(i)})};for(var n in t)e(n)},r.fixUpdateProps=function(t,e){var i,a;return r.errorChecker(t)?Object(n.a)((a={},Object(o.a)(a,d.immitProps.value,r.data[t.props.field]),Object(o.a)(a,"style",Object(n.a)({},t.props.style,t.props.errorstyle)),Object(o.a)(a,"className",t.props.className?t.props.className+" "+t.props.errorclass:t.props.errorclass),a),t.props.errorprops,e):Object(n.a)((i={},Object(o.a)(i,d.immitProps.value,r.data[t.props.field]),Object(o.a)(i,"style",Object(n.a)({},t.props.style)),Object(o.a)(i,"className",t.props.className),i),e)},r.handleOnClick=function(t,e,n){var o=r.props.onSubmit,i=e&&e.props&&e.props.field;"function"===typeof n&&n();var a=r.errorChecker(e);"function"===typeof o&&o({isError:a,event:t,data:r.data,field:i,value:r.data[i],update:r.updateByData,element:e})},r.handleOnChange=function(t,e,n){var o=r.props,i=o.onChange,a=o.onErrorCheck,u=void 0;r.editChild=e,"function"===typeof e.props.onChangeGetter?u=e.props.onChangeGetter(t):d.getValuePaths[e.type]&&t?(u=t,d.getValuePaths[e.type].forEach(function(t){u=u[t]})):"object"!==typeof t||"function"===typeof t?u=t:"function"===typeof e.type&&(u=t),r.data[e.props.field]=u;var c=r.errorChecker(e),p={isError:c,event:t,data:r.data,field:e.props.field,value:u,update:r.updateByData,element:e};"function"===typeof n&&n(p),"function"===typeof i&&i(p),r.errorList[e.props.field]!==c&&(r.errorList[e.props.field]=c,"function"===typeof a&&a(p)),r.callbackParams=p,r.updateByData(),t&&t.target&&!t.target.keydownListen&&t.target.addEventListener&&(t.target.addEventListener("keydown",r.keydownListen),t.target.keydownListen=r.keydownListen)},r.keydownListen=function(t){var e=r.props.onSubmit;t&&13===t.keyCode&&"function"===typeof e&&e(r.callbackParams)},r.getChild=function(t){var e=t.children;return f.a.Children.map(e,function(t){if(t.props.field||t.props.toform||t.props.submit||"submit"===t.props.type){r.refList[t.props.field]||(r.refList[t.props.field]=[]);var e,n,i,a,u,c=f.a.createRef();if(r.refList[t.props.field].push(c),t.props.field)a={},Object(o.a)(a,d.immitProps.value,r.data[t.props.field]||t.props[d.immitProps.value]),Object(o.a)(a,d.immitProps.change,function(e){return r.handleOnChange(e,t,t.props.onChange)}),e=a;if(t.props.toform&&(n={ToForm:r.getChild}),t.props.submit||"submit"===t.props.type)u={},Object(o.a)(u,d.immitProps.click,function(e){return r.handleOnClick(e,t,t.props.onClick)}),Object(o.a)(u,d.immitProps.touch,function(e){return r.handleOnClick(e,t,t.props.onClick)}),i=u;return f.a.createElement(l.default,Object.assign({ref:c,fixUpdateProps:r.fixUpdateProps},e,i,n),t)}return t})},r.data=t.data||{},r.editChild=void 0,r.editIsError=!1,r.errorList={},r.refList={},r}return Object(p.a)(e,t),Object(a.a)(e,[{key:"shouldComponentUpdate",value:function(){var t=this.props.shouldUpdate;return void 0===t||t}},{key:"componentWillUnmount",value:function(){this.data=null,this.editChild=null,this.errorList=null,this.editIsError=null,this.refList={}}},{key:"render",value:function(){this.refList={};var t=this.props.children;return this.getChild({children:t})}}]),e}(f.a.Component);y.isFrom=!0,e.default=y}]);